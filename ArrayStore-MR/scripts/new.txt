setenv LD_LIBRARY_PATH /gpfsm/dnb32/kdoan1/mr/extlib/hdf-java-linux/lib/linux
java -cp /gpfsm/dnb32/kdoan1/mr/lib/AMDJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/BTFJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/COLAMDJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/JKLU-1.0.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/activation-1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-1.6.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-1.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-launcher-1.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/aopalliance-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/arpack_combined_all-0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/asm-3.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/avro-1.7.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/bliki-core-3.0.16.jar:/gpfsm/dnb32/kdoan1/mr/lib/cglib-2.2.1-v20090111.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17.jar:/gpfsm/dnb32/kdoan1/mr/lib/collections-generic-4.01.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-cli-1.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-codec-1.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-collections-3.2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-compress-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-configuration-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-daemon-1.0.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-el-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-httpclient-3.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-io-2.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-lang-2.6.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-logging-1.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-math-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-math3-3.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-net-3.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/core-3.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/core-lapack-0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/csparsej-1.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/dsiutils-2.0.15.jar:/gpfsm/dnb32/kdoan1/mr/lib/fastutil-6.5.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/gson-2.2.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/guava-13.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/guice-3.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/guice-servlet-3.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-annotations-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-auth-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-hdfs-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-hdfs-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-core-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-core-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-jobclient-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-shuffle-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-streaming-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-streaming-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-api-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-api-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-client-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-nodemanager-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-nodemanager-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-resourcemanager-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-resourcemanager-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-web-proxy-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hamcrest-core-1.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/hsqldb-1.8.0.10.jar:/gpfsm/dnb32/kdoan1/mr/lib/htmlparser-1.6.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-core-asl-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-jaxrs-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-mapper-asl-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-xc-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jasper-compiler-5.5.23.jar:/gpfsm/dnb32/kdoan1/mr/lib/jasper-runtime-5.5.23.jar:/gpfsm/dnb32/kdoan1/mr/lib/javax.inject-1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jaxb-api-2.2.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/jaxb-impl-2.2.3-1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jdiff-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-core-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-guice-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-json-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-server-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-test-framework-grizzly2-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jets3t-0.7.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jettison-1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jetty-6.1.26.jar:/gpfsm/dnb32/kdoan1/mr/lib/jetty-util-6.1.26.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf4obj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf5.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf5obj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdfobj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jplasma-1.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsap-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsch-0.1.42.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-2.1-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.1-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsr305-1.3.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/jtransforms-2.4.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-algorithms-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-api-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-graph-impl-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11.jar:/gpfsm/dnb32/kdoan1/mr/lib/jwnl-1.3.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/kfs-0.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/log4j-1.2.17.jar:/gpfsm/dnb32/kdoan1/mr/lib/logback-classic-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/logback-core-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/maxent-3.0.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/mockito-all-1.8.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/mrunit-0.8.0-incubating.jar:/gpfsm/dnb32/kdoan1/mr/lib/netlib-java-0.9.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/netty-3.2.4.Final.jar:/gpfsm/dnb32/kdoan1/mr/lib/optimization-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/oro-2.0.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/paranamer-2.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/pcj-1.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/pig-0.10.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/protobuf-java-2.4.0a.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5-20081211.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/sevenzipjbinding-Linux-amd64.jar:/gpfsm/dnb32/kdoan1/mr/lib/sevenzipjbinding.jar:/gpfsm/dnb32/kdoan1/mr/lib/slf4j-api-1.7.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/slf4j-log4j12-1.6.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/snappy-java-1.0.4.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/spymemcached-2.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/stax-api-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/sux4j-3.0.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/tools-1.5.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/xmlenc-0.52.jar:/gpfsm/dnb32/kdoan1/mr/dist/ArrayStore-hadoop-0.0.1.jar:/gpfsm/dnb32/kdoan1/mr/dist/ArrayStore-hadoop-0.0.1.jar intersect.data.FTPIntersectSFPacker tmp/trmm/1 intersect.hdf.TRMMHDF4 trmm2009_1.bz 2009 1 1 90 false >& trmm2009_1.log &
java -cp /gpfsm/dnb32/kdoan1/mr/lib/AMDJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/BTFJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/COLAMDJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/JKLU-1.0.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/activation-1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-1.6.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-1.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-launcher-1.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/aopalliance-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/arpack_combined_all-0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/asm-3.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/avro-1.7.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/bliki-core-3.0.16.jar:/gpfsm/dnb32/kdoan1/mr/lib/cglib-2.2.1-v20090111.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17.jar:/gpfsm/dnb32/kdoan1/mr/lib/collections-generic-4.01.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-cli-1.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-codec-1.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-collections-3.2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-compress-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-configuration-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-daemon-1.0.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-el-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-httpclient-3.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-io-2.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-lang-2.6.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-logging-1.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-math-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-math3-3.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-net-3.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/core-3.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/core-lapack-0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/csparsej-1.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/dsiutils-2.0.15.jar:/gpfsm/dnb32/kdoan1/mr/lib/fastutil-6.5.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/gson-2.2.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/guava-13.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/guice-3.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/guice-servlet-3.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-annotations-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-auth-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-hdfs-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-hdfs-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-core-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-core-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-jobclient-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-shuffle-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-streaming-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-streaming-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-api-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-api-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-client-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-nodemanager-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-nodemanager-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-resourcemanager-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-resourcemanager-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-web-proxy-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hamcrest-core-1.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/hsqldb-1.8.0.10.jar:/gpfsm/dnb32/kdoan1/mr/lib/htmlparser-1.6.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-core-asl-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-jaxrs-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-mapper-asl-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-xc-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jasper-compiler-5.5.23.jar:/gpfsm/dnb32/kdoan1/mr/lib/jasper-runtime-5.5.23.jar:/gpfsm/dnb32/kdoan1/mr/lib/javax.inject-1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jaxb-api-2.2.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/jaxb-impl-2.2.3-1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jdiff-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-core-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-guice-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-json-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-server-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-test-framework-grizzly2-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jets3t-0.7.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jettison-1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jetty-6.1.26.jar:/gpfsm/dnb32/kdoan1/mr/lib/jetty-util-6.1.26.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf4obj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf5.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf5obj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdfobj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jplasma-1.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsap-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsch-0.1.42.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-2.1-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.1-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsr305-1.3.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/jtransforms-2.4.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-algorithms-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-api-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-graph-impl-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11.jar:/gpfsm/dnb32/kdoan1/mr/lib/jwnl-1.3.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/kfs-0.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/log4j-1.2.17.jar:/gpfsm/dnb32/kdoan1/mr/lib/logback-classic-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/logback-core-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/maxent-3.0.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/mockito-all-1.8.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/mrunit-0.8.0-incubating.jar:/gpfsm/dnb32/kdoan1/mr/lib/netlib-java-0.9.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/netty-3.2.4.Final.jar:/gpfsm/dnb32/kdoan1/mr/lib/optimization-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/oro-2.0.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/paranamer-2.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/pcj-1.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/pig-0.10.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/protobuf-java-2.4.0a.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5-20081211.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/sevenzipjbinding-Linux-amd64.jar:/gpfsm/dnb32/kdoan1/mr/lib/sevenzipjbinding.jar:/gpfsm/dnb32/kdoan1/mr/lib/slf4j-api-1.7.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/slf4j-log4j12-1.6.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/snappy-java-1.0.4.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/spymemcached-2.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/stax-api-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/sux4j-3.0.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/tools-1.5.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/xmlenc-0.52.jar:/gpfsm/dnb32/kdoan1/mr/dist/ArrayStore-hadoop-0.0.1.jar:/gpfsm/dnb32/kdoan1/mr/dist/ArrayStore-hadoop-0.0.1.jar intersect.data.FTPIntersectSFPacker tmp/cloudsat/1 intersect.hdf.CloudSatHDF4 cloudsat2009_1.bz 2009 1 1 90 false >& cloudsat2009_1.log &
java -cp /gpfsm/dnb32/kdoan1/mr/lib/AMDJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/BTFJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/COLAMDJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/JKLU-1.0.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/activation-1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-1.6.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-1.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-launcher-1.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/aopalliance-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/arpack_combined_all-0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/asm-3.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/avro-1.7.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/bliki-core-3.0.16.jar:/gpfsm/dnb32/kdoan1/mr/lib/cglib-2.2.1-v20090111.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17.jar:/gpfsm/dnb32/kdoan1/mr/lib/collections-generic-4.01.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-cli-1.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-codec-1.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-collections-3.2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-compress-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-configuration-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-daemon-1.0.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-el-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-httpclient-3.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-io-2.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-lang-2.6.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-logging-1.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-math-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-math3-3.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-net-3.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/core-3.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/core-lapack-0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/csparsej-1.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/dsiutils-2.0.15.jar:/gpfsm/dnb32/kdoan1/mr/lib/fastutil-6.5.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/gson-2.2.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/guava-13.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/guice-3.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/guice-servlet-3.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-annotations-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-auth-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-hdfs-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-hdfs-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-core-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-core-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-jobclient-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-shuffle-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-streaming-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-streaming-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-api-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-api-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-client-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-nodemanager-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-nodemanager-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-resourcemanager-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-resourcemanager-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-web-proxy-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hamcrest-core-1.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/hsqldb-1.8.0.10.jar:/gpfsm/dnb32/kdoan1/mr/lib/htmlparser-1.6.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-core-asl-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-jaxrs-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-mapper-asl-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-xc-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jasper-compiler-5.5.23.jar:/gpfsm/dnb32/kdoan1/mr/lib/jasper-runtime-5.5.23.jar:/gpfsm/dnb32/kdoan1/mr/lib/javax.inject-1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jaxb-api-2.2.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/jaxb-impl-2.2.3-1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jdiff-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-core-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-guice-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-json-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-server-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-test-framework-grizzly2-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jets3t-0.7.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jettison-1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jetty-6.1.26.jar:/gpfsm/dnb32/kdoan1/mr/lib/jetty-util-6.1.26.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf4obj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf5.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf5obj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdfobj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jplasma-1.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsap-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsch-0.1.42.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-2.1-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.1-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsr305-1.3.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/jtransforms-2.4.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-algorithms-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-api-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-graph-impl-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11.jar:/gpfsm/dnb32/kdoan1/mr/lib/jwnl-1.3.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/kfs-0.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/log4j-1.2.17.jar:/gpfsm/dnb32/kdoan1/mr/lib/logback-classic-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/logback-core-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/maxent-3.0.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/mockito-all-1.8.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/mrunit-0.8.0-incubating.jar:/gpfsm/dnb32/kdoan1/mr/lib/netlib-java-0.9.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/netty-3.2.4.Final.jar:/gpfsm/dnb32/kdoan1/mr/lib/optimization-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/oro-2.0.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/paranamer-2.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/pcj-1.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/pig-0.10.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/protobuf-java-2.4.0a.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5-20081211.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/sevenzipjbinding-Linux-amd64.jar:/gpfsm/dnb32/kdoan1/mr/lib/sevenzipjbinding.jar:/gpfsm/dnb32/kdoan1/mr/lib/slf4j-api-1.7.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/slf4j-log4j12-1.6.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/snappy-java-1.0.4.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/spymemcached-2.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/stax-api-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/sux4j-3.0.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/tools-1.5.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/xmlenc-0.52.jar:/gpfsm/dnb32/kdoan1/mr/dist/ArrayStore-hadoop-0.0.1.jar:/gpfsm/dnb32/kdoan1/mr/dist/ArrayStore-hadoop-0.0.1.jar intersect.data.FTPIntersectSFPacker tmp/cloudsat/1 intersect.hdf.CloudSatHDF4 cloudsat2009_2.bz 2009 91 91 180 false >& cloudsat2009_2.log &
java -cp /gpfsm/dnb32/kdoan1/mr/lib/AMDJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/BTFJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/COLAMDJ-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/JKLU-1.0.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/activation-1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-1.6.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-1.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/ant-launcher-1.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/aopalliance-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/arpack_combined_all-0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/asm-3.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/avro-1.7.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/bliki-core-3.0.16.jar:/gpfsm/dnb32/kdoan1/mr/lib/cglib-2.2.1-v20090111.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/cloud9-1.4.17.jar:/gpfsm/dnb32/kdoan1/mr/lib/collections-generic-4.01.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-cli-1.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-codec-1.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-collections-3.2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-compress-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-configuration-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-daemon-1.0.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-el-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-httpclient-3.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-io-2.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-lang-2.6.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-logging-1.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-math-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-math3-3.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/commons-net-3.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/core-3.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/core-lapack-0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/csparsej-1.1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/dsiutils-2.0.15.jar:/gpfsm/dnb32/kdoan1/mr/lib/fastutil-6.5.4.jar:/gpfsm/dnb32/kdoan1/mr/lib/gson-2.2.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/guava-13.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/guice-3.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/guice-servlet-3.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-annotations-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-auth-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-hdfs-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-hdfs-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-core-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-core-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-jobclient-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-mapreduce-client-shuffle-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-streaming-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-streaming-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-api-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-api-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-client-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-common-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-common-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-nodemanager-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-nodemanager-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-resourcemanager-2.0.0-cdh4.2.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-resourcemanager-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hadoop-yarn-server-web-proxy-2.0.0-cdh4.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/hamcrest-core-1.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/hsqldb-1.8.0.10.jar:/gpfsm/dnb32/kdoan1/mr/lib/htmlparser-1.6.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-core-asl-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-jaxrs-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-mapper-asl-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jackson-xc-1.8.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jasper-compiler-5.5.23.jar:/gpfsm/dnb32/kdoan1/mr/lib/jasper-runtime-5.5.23.jar:/gpfsm/dnb32/kdoan1/mr/lib/javax.inject-1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jaxb-api-2.2.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/jaxb-impl-2.2.3-1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jdiff-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-core-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-guice-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-json-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-server-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jersey-test-framework-grizzly2-1.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/jets3t-0.7.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jettison-1.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jetty-6.1.26.jar:/gpfsm/dnb32/kdoan1/mr/lib/jetty-util-6.1.26.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf4obj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf5.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdf5obj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jhdfobj.jar:/gpfsm/dnb32/kdoan1/mr/lib/jplasma-1.2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsap-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsch-0.1.42.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-2.1-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.1-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsp-api-2.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jsr305-1.3.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/jtransforms-2.4.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-algorithms-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-api-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/jung-graph-impl-2.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/junit-4.11.jar:/gpfsm/dnb32/kdoan1/mr/lib/jwnl-1.3.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/kfs-0.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/log4j-1.2.17.jar:/gpfsm/dnb32/kdoan1/mr/lib/logback-classic-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/logback-core-1.0.9.jar:/gpfsm/dnb32/kdoan1/mr/lib/maxent-3.0.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/mockito-all-1.8.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/mrunit-0.8.0-incubating.jar:/gpfsm/dnb32/kdoan1/mr/lib/netlib-java-0.9.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/netty-3.2.4.Final.jar:/gpfsm/dnb32/kdoan1/mr/lib/optimization-1.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/oro-2.0.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0-javadoc.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0-sources.jar:/gpfsm/dnb32/kdoan1/mr/lib/parallelcolt-0.10.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/paranamer-2.3.jar:/gpfsm/dnb32/kdoan1/mr/lib/pcj-1.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/pig-0.10.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/protobuf-java-2.4.0a.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5-20081211.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5-6.1.14.jar:/gpfsm/dnb32/kdoan1/mr/lib/servlet-api-2.5.jar:/gpfsm/dnb32/kdoan1/mr/lib/sevenzipjbinding-Linux-amd64.jar:/gpfsm/dnb32/kdoan1/mr/lib/sevenzipjbinding.jar:/gpfsm/dnb32/kdoan1/mr/lib/slf4j-api-1.7.2.jar:/gpfsm/dnb32/kdoan1/mr/lib/slf4j-log4j12-1.6.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/snappy-java-1.0.4.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/spymemcached-2.8.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/stax-api-1.0.1.jar:/gpfsm/dnb32/kdoan1/mr/lib/sux4j-3.0.8.jar:/gpfsm/dnb32/kdoan1/mr/lib/tools-1.5.0.jar:/gpfsm/dnb32/kdoan1/mr/lib/xmlenc-0.52.jar:/gpfsm/dnb32/kdoan1/mr/dist/ArrayStore-hadoop-0.0.1.jar:/gpfsm/dnb32/kdoan1/mr/dist/ArrayStore-hadoop-0.0.1.jar intersect.data.FTPIntersectSFPacker tmp/cloudsat/1 intersect.hdf.CloudSatHDF4 cloudsat2009_3.bz 2009 181 181 270 false >& cloudsat2009_3.log &

export LD_LIBRARY_PATH=/home/kdoan1/mr/extlib/hdf-java-linux/lib/linux:$LD_LIBRARY_PATH
java -cp lib/*:dist/* intersect.data.FTPIntersectSFPacker tmp/cloudsat/2/Z intersect.hdf.CloudSatHDF4 cloudsat2009_4.bz 2009 271 271 366 false >& cloudsat200_4.log &
java -cp lib/*:dist/* intersect.data.FTPIntersectSFPacker tmp/1 intersect.hdf.CloudSatHDF4 cloudsat2006_1.bz 2006 1 1 90 true >& cloudsat2006_1.log &
java -cp lib/*:dist/* intersect.data.FTPIntersectSFPacker /att/nobackup/kdoan1/data/raw/cloudsat/2010 intersect.hdf.CloudSatHDF4 cloudsat2010_12.bz 2010 1 1 180 false >& cloudsat2010_12.log &


java -cp lib/*:dist/* intersect.data.FTPIntersectSFPacker /att/nobackup/kdoan1/tmp/trmm/2/Z intersect.hdf.TRMMHDF4 trmm2010_34.bz 2010 1 2 1 false >& trmm2010_34.log &
java -cp lib/*:dist/* intersect.data.FTPIntersectSFPacker tmp/trmm/1/ intersect.hdf.TRMMHDF4 trmm2009_34.bz 2009 1 2 1 false >& trmm2009_34.log &

export LD_LIBRARY_PATH=/home/kdoan1/mr/extlib/hdf-java-linux/lib/linux:$LD_LIBRARY_PATH
java -cp lib/*:dist/* intersect.data.FTPIntersectSFPacker /att/nobackup/kdoan1/tmp/cloudsat/2010/Z/1 intersect.hdf.CloudSatHDF4 cloudsat2010_1.bz 2010 1 2 1 false >& cloudsat2010_1.log &

etc/hadoop-local.sh data.load.ExtractTextDataFromHDF -input test/cloudsat_111_packed.bz -output test/output/cloudsat111_text.gz -numReducers 1 -hdfReader intersect.hdf.CloudSatHDF4
etc/hadoop-local.sh data.load.ExtractTextDataFromHDF -input test/trmm_111_packed.bz -output test/output/trmm111_text.gz -numReducers 1 -hdfReader intersect.hdf.TRMMHDF4

etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input cloudsat/raw/2006 -output cloudsat/text/cloudsat2006_plain.gz -numReducers 1 -hdfReader intersect.hdf.CloudSatHDF4 &
etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input cloudsat/raw/2007 -output cloudsat/text/cloudsat2007_plain.gz -numReducers 1 -hdfReader intersect.hdf.CloudSatHDF4 &
etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input cloudsat/raw/2008 -output cloudsat/text/cloudsat2008_plain.gz -numReducers 1 -hdfReader intersect.hdf.CloudSatHDF4 &
etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input cloudsat/raw/2009 -output cloudsat/text/cloudsat2009_plain.gz -numReducers 1 -hdfReader intersect.hdf.CloudSatHDF4 &
etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input cloudsat/raw/2010 -output cloudsat/text/cloudsat2010_plain.gz -numReducers 1 -hdfReader intersect.hdf.CloudSatHDF4 &

etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input trmm/raw/2006 -output trmm/text/trmm2006_plain.gz -numReducers 1 -hdfReader intersect.hdf.TRMMHDF4 &
etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input trmm/raw/2007 -output trmm/text/trmm2007_plain.gz -numReducers 1 -hdfReader intersect.hdf.TRMMHDF4 &
etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input trmm/raw/2008 -output trmm/text/trmm2008_plain.gz -numReducers 1 -hdfReader intersect.hdf.TRMMHDF4 &
etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input trmm/raw/2009 -output trmm/text/trmm2009_plain.gz -numReducers 1 -hdfReader intersect.hdf.TRMMHDF4 &
etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input trmm/raw/2010 -output trmm/text/trmm2010_plain.gz -numReducers 1 -hdfReader intersect.hdf.TRMMHDF4 &

etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input trmm/raw/2010 -output trmm/text/trmm2010_plain.gz -numReducers 1 -hdfReader intersect.hdf.TRMMHDF4

etc/hadoop-cluster.sh data.load.ExtractTextDataFromHDF -input trmm/raw/2009 -output trmm/text/trmm2009_plain.gz -numReducers 1 -hdfReader intersect.hdf.TRMMHDF4
		      14/02/13 23:30:55 INFO load.InsertArrayFromHDF: Job Finished in 2587.61 seconds

# TESTING
time csv2scidb -s 1 -p NNNNNNNNNNNNNNN < cloudsat_111_scidb > cloudsat_111_scidb.scidb
time csv2scidb -s 1 -p NNNNNNNNNNNNNNNNNN < trmm_111_scidb > trmm_111_scidb.scidb

create array khoa_cs_t <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array khoa_trmm_t <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];

create array khoa_cs <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2000:2019,10,0,doy=1:366,10,0, t=0:864000,60000,9000];
create array khoa_trmm <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2006:2010,1,1,doy=1:366,10,0, t=0:864000,60000,9000];

# Change 1
create array khoa_cs1 <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2006:2010,1,1,doy=1:366,6,1, t=0:864000,216000,9000];
create array khoa_trmm1 <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2006:2010,1,1, doy=1:366,6,1, t=0:864000,216000,9000];
redimension_store(khoa_cs, khoa_cs1);
redimension_store(khoa_trmm, khoa_trmm1);


# Change 2
create array khoa_cs2 <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2006:2010,1,1,doy=1:366,6,1, t=0:864000,216000,9000];
create array khoa_trmm2 <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2006:2010,1,1,doy=1:366,61,1, t=0:864000,216000,9000];
redimension_store(khoa_cs, khoa_cs2);
redimension_store(khoa_trmm, khoa_trmm2);

create array khoa_intersect_template <Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,match_orbit:int64,match_systemNoise:double,match_sysNoiseWarnFlag:double,match_minEchoFlag:double,match_binEllipsoid:double,match_binDIDHmean:double,match_scLocalZenith:double,match_scRange:double,match_landOceanFlag:double,match_surfWarnFlag:double,match_binSurfPeak:double,match_x:int64,match_y:int64,match_z:int64,match_year:int64,match_doy:int64,match_t:int64,sq_distance:double,t_distance:double,x:int64,y:int64,z:int64> [year=2000:2019,10,0,doy=1:366,10,0,t=0:864000,60000,9000,orbit=0:99999,1000,0,f=0:1,1,0];
create array khoa_intersect_template <Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,match_orbit:int64,match_systemNoise:double,match_sysNoiseWarnFlag:double,match_minEchoFlag:double,match_binEllipsoid:double,match_binDIDHmean:double,match_scLocalZenith:double,match_scRange:double,match_landOceanFlag:double,match_surfWarnFlag:double,match_binSurfPeak:double,match_x:int64,match_y:int64,match_z:int64,match_year:int64,match_doy:int64,match_t:int64,sq_distance:double,t_distance:double,x:int64,y:int64,z:int64> [year=2000:2019,10,0,doy=1:366,10,0,t=0:864000,60000,9000,orbit=0:99999,1000,0,f=0:1,1,0];

load(khoa_cs_t, '/home/kdoan1/mr/data/scidb/cloudsat_111_scidb.scidb');
load(khoa_cs_t, '/home/kdoan1/mr/data/scidb/cloudsat2007_scidb.scidb');
load(khoa_trmm_t, '/home/kdoan1/mr/data/scidb/trmm_111_scidb.scidb');
redimension_store(khoa_cs_t, khoa_cs);
redimension_store(khoa_trmm_t, khoa_trmm);

time iquery -p 4569 -naq "load(khoa_cs_t, '/home/kdoan1/mr/data/scidb/cloudsat_111_scidb.scidb')"
time iquery -p 4569 -naq "load(khoa_trmm_t, '/home/kdoan1/mr/data/scidb/trmm_111_scidb.scidb')"

time iquery -p 4569 -naq 'redimension_store(khoa_cs_t, khoa_cs)'
time iquery -p 4569 -naq 'redimension_store(khoa_trmm_t, khoa_trmm)'

etc/hadoop-local.sh data.load.simple.InsertJoinArraysFromText -input test/output/cloudsat_trmm111_xyz_scidb -output test/output/cloudsat_trmm111_arrays -dims "-6371:6372,-6371:6372,-6371:6372,2000:2019,1:366,0:863999" -chunks "6372,6372,6372,10,10,9000" -overlaps "5,5,5,0,1,9000"
etc/hadoop-local.sh data.load.simple.InsertJoinArraysFromText -input test/output/cloudsat_trmm111_xyz_scidb -output test/output/cloudsat_trmm111_arrays -dims "-6371:6372,-6371:6372,-6371:6372,1:15776640000" -chunks "6372,6372,6372,720000" -overlaps "5,5,5,9000"

etc/hadoop-local.sh intersect.algo.FindIntersections -input  test/output/cloudsat_trmm111_arrays -output test/output/cloudsat_trmm111_intersect -matchSpec "10,10,10,0,0,9000"

etc/hadoop-cluster.sh intersect.algo.FindIntersections -input  cloudsat_trmm/arrays/cloudsat_trmm_arrays2007_2008/part-r-00000/data -output cloudsat_trmm/intersect/cloudsat_trmm2007_2008_intersect -matchSpec "10,10,10,0,0,9000"

#HADOOP

-- Transform plain text to XYZ
trp = load 'trmm/text/trmm2009_plain.gz/part-r-00000.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, a8:double, a9:double, a10:double);
g = foreach trp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND(y) as y, ROUND(d) as d, ROUND(t/100) as t, y, d, orbit, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/trmm2009_scidb.gz' using PigStorage(',');

csp = load 'cloudsat/text/cloudsat2009_plain.gz/part-r-00000.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double);
g = foreach csp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND(y) as y, ROUND(d) as d, ROUND(t/100) as t, y, d, orbit, a1, a2, a3, a4, a5, a6, a7, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/cloudsat2009_scidb.gz' using PigStorage(',');

trp = load 'trmm/text/trmm2007_plain.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, a8:double, a9:double, a10:double, et: double);
g = foreach trp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND((et-1136073600000.0)/10), y, d, orbit, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/trmm2007_collapsed_scidb.gz' using PigStorage(',');
trp = load 'trmm/text/trmm2008_plain.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, a8:double, a9:double, a10:double, et: double);
g = foreach trp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND((et-1136073600000.0)/10), y, d, orbit, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/trmm2008_collapsed_scidb.gz' using PigStorage(',');
trp = load 'trmm/text/trmm2009_plain.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, a8:double, a9:double, a10:double, et: double);
g = foreach trp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND((et-1136073600000.0)/10), y, d, orbit, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/trmm2009_collapsed_scidb.gz' using PigStorage(',');
trp = load 'trmm/text/trmm2010_plain.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, a8:double, a9:double, a10:double, et: double);
g = foreach trp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND((et-1136073600000.0)/10), y, d, orbit, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/trmm2010_collapsed_scidb.gz' using PigStorage(',');

csp = load 'cloudsat/text/cloudsat2007_plain.gz/part-r-00000.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, et: double);
g = foreach csp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND((et-1136073600000.0)/10), y, d, orbit, a1, a2, a3, a4, a5, a6, a7, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/cloudsat2007_collapsed_scidb.gz' using PigStorage(',');
csp = load 'cloudsat/text/cloudsat2008_plain.gz/part-r-00000.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, et: double);
g = foreach csp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND((et-1136073600000.0)/10), y, d, orbit, a1, a2, a3, a4, a5, a6, a7, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/cloudsat2008_collapsed_scidb.gz' using PigStorage(',');
csp = load 'cloudsat/text/cloudsat2009_plain.gz/part-r-00000.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, et: double);
g = foreach csp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND((et-1136073600000.0)/10), y, d, orbit, a1, a2, a3, a4, a5, a6, a7, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/cloudsat2009_collapsed_scidb.gz' using PigStorage(',');
csp = load 'cloudsat/text/cloudsat2010_plain.gz/part-r-00000.gz' using PigStorage(',') as (lat:double, lon:double, y:int, d:int, t:long, orbit:int, a1:double, a2:double, a3:double, a4:double, a5:double, a6:double, a7:double, et: double);
g = foreach csp generate ROUND(6371*COS(lat)*SIN(lon)) as xx, ROUND(6371*SIN(lat)) as yy, ROUND(6371*COS(lat)*COS(lon)) as zz, ROUND((et-1136073600000.0)/10), y, d, orbit, a1, a2, a3, a4, a5, a6, a7, (ROUND(6371*SIN(lat)) > 0 ? 1:0) as f;
store g into 'cloudsat_trmm/tmp/cloudsat2010_collapsed_scidb.gz' using PigStorage(',');

# INJECT DATA TO SCIDB
--Transform csv
time csv2scidb -s 0 -p NNNNNNNNNNNNN < cloudsat2007_collapsed_scidb > cloudsat2007_collapsed_scidb.scidb
time csv2scidb -s 0 -p NNNNNNNNNNNNNNNN < trmm2007_collapsed_scidb > trmm2007_collapsed_scidb.scidb


--Temporary Arrays
create array cs_2b_geoprof_xyz_t_2007 <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array cs_2b_geoprof_xyz_t_2008 <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array cs_2b_geoprof_xyz_t_2009 <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array cs_2b_geoprof_xyz_t_2010 <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array trmm_1c21_xyz_t_2007 <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];
create array trmm_1c21_xyz_t_2008 <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];
create array trmm_1c21_xyz_t_2009 <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];
create array trmm_1c21_xyz_t_2010 <x:int64, y:int64, z:int64, year:int64, doy:int64, t:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];
--With 1 dimension for time
create array cs_2b_geoprof_xyz_t_2007 <x:int64, y:int64, z:int64, t:int64, year:int64, doy:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array cs_2b_geoprof_xyz_t_2008 <x:int64, y:int64, z:int64, t:int64, year:int64, doy:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array cs_2b_geoprof_xyz_t_2009 <x:int64, y:int64, z:int64, t:int64, year:int64, doy:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array cs_2b_geoprof_xyz_t_2010 <x:int64, y:int64, z:int64, t:int64, year:int64, doy:int64, orbit:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,f:int64>[i=0:*,1000000,0];
create array trmm_1c21_xyz_t_2007 <x:int64, y:int64, z:int64, t:int64, year:int64, doy:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];
create array trmm_1c21_xyz_t_2008 <x:int64, y:int64, z:int64, t:int64, year:int64, doy:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];
create array trmm_1c21_xyz_t_2009 <x:int64, y:int64, z:int64, t:int64, year:int64, doy:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];
create array trmm_1c21_xyz_t_2010 <x:int64, y:int64, z:int64, t:int64, year:int64, doy:int64, orbit:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double,f:int64>[i=0:*,1000000,0];

--Intermediate Arrays (without chunk overlap) - redimension cannot store into arrays with chunk overlap
create array cs_2b_geoprof_xyz_i <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,0, y=-6371:6371,6371,0, z=-6371:6371,6371,0, year=2000:2019,10,0,doy=1:366,10,0, t=0:864000,60000,0];
create array trmm_1c21_xyz_i <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,0, y=-6371:6371,6371,0, z=-6371:6371,6371,0, year=2000:2019,10,0,doy=1:366,10,0, t=0:864000,60000,0];

--Final Arrays (with chunk overlap) - year and day
create array cs_2b_geoprof_xyz <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2000:2019,10,0,doy=1:366,10,0, t=0:864000,60000,9000];
create array trmm_1c21_xyz <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2000:2019,10,0,doy=1:366,10,0, t=0:864000,60000,9000];
create array cs_2b_geoprof_xyz_2007 <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2006:2010,1,1,doy=1:366,6,1, t=0:864000,144000,9000];
create array trmm_1c21_xyz_2007 <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2006:2010,1,1,doy=1:366,6,1, t=0:864000,144000,9000];

--Final Arrays (with chunk overlap) - one dimension for time - 157766400000-1136073600000.0 (in milliseconds)
create array cs_2b_geoprof_xyz <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, t=0:15776640000,720000,9000];
create array trmm_1c21_xyz <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, t=0:15776640000,720000,9000];
create array cs_2b_geoprof_xyz_2007 <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, t=0:15776640000,720000,9000];
create array trmm_1c21_xyz_2007 <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, t=0:15776640000,720000,9000];

create array cs_2b_geoprof_xyz_2007_111 <orbit: int64, f:int64, Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2000:2019,10,0,doy=1:366,10,0, t=0:864000,60000,9000];
create array trmm_1c21_xyz_2007_111 <orbit: int64, f:int64, systemNoise:double,sysNoiseWarnFlag:double,minEchoFlag:double,binEllipsoid:double,binDIDHmean:double,scLocalZenith:double,scRange:double,landOceanFlag:double,surfWarnFlag:double,binSurfPeak:double> [x=-6371:6371,6371,5, y=-6371:6371,6371,5, z=-6371:6371,6371,5, year=2000:2019,10,0,doy=1:366,10,0, t=0:864000,60000,9000];

create array cs_trmm_intersect_template<Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,match_orbit:int64,match_systemNoise:double,match_sysNoiseWarnFlag:double,match_minEchoFlag:double,match_binEllipsoid:double,match_binDIDHmean:double,match_scLocalZenith:double,match_scRange:double,match_landOceanFlag:double,match_surfWarnFlag:double,match_binSurfPeak:double,match_x:int64,match_y:int64,match_z:int64,match_year:int64,match_doy:int64,match_t:int64,sq_distance:double,t_distance:double,x:int64,y:int64,z:int64> [year=2000:2019,10,0,doy=1:366,10,0,t=0:864000,60000,9000,orbit=0:99999,1000,0,f=0:1,1,0];
create array cs_trmm_intersect_template<Height:double,Range_to_intercept:double,DEM_elevation:double,Vertical_binsize:double,Pitch_offset:double,Roll_offset:double,Radar_Reflectivity:double,match_orbit:int64,match_systemNoise:double,match_sysNoiseWarnFlag:double,match_minEchoFlag:double,match_binEllipsoid:double,match_binDIDHmean:double,match_scLocalZenith:double,match_scRange:double,match_landOceanFlag:double,match_surfWarnFlag:double,match_binSurfPeak:double,match_x:int64,match_y:int64,match_z:int64,match_year:int64,match_doy:int64,match_t:int64,sq_distance:double,t_distance:double,x:int64,y:int64,z:int64> [t=0:15776640000,720000,9000,orbit=0:99999,1000,0,f=0:1,1,0];

--Inject into temporary arrays
time iquery -p 5670 -naq "load(cs_2b_geoprof_xyz_t_2007, '/att/nobackup/kdoan1/data/scidb/collapsed/cloudsat2007_collapsed_scidb.scidb')" &
time iquery -p 5670 -naq "load(cs_2b_geoprof_xyz_t_2008, '/att/nobackup/kdoan1/data/scidb/collapsed/cloudsat2008_collapsed_scidb.scidb')" &
time iquery -p 5670 -naq "load(cs_2b_geoprof_xyz_t_2009, '/att/nobackup/kdoan1/data/scidb/collapsed/cloudsat2009_collapsed_scidb.scidb')" &
time iquery -p 5670 -naq "load(cs_2b_geoprof_xyz_t_2010, '/att/nobackup/kdoan1/data/scidb/collapsed/cloudsat2010_collapsed_scidb.scidb')" &

time iquery -p 5670 -naq "load(trmm_1c21_xyz_t_2007, '/att/nobackup/kdoan1/data/scidb/trmm2007_collapsed_scidb.scidb')" &
time iquery -p 1439 -naq "load(trmm_1c21_xyz_t_2008 , '/home/kdoan1/mr/data/scidb/trmm2008_scidb.scidb')" >& load_tr_2008.log &



real    25m47.269s
real    8m22.114s


--Redimension to intermediate arrays ---> WORK in 12.11 NOW
time iquery -naq 'redimension_store(cs_2b_geoprof_xyz_t, cs_2b_geoprof_xyz_i)'
time iquery -naq 'redimension_store(trmm_1c21_xyz_t, trmm_1c21_xyz_i)'

real    4m1.124s
real    2m28.867s

--Redimension into target arrays
time iquery -p 5670 -naq 'redimension_store(cs_2b_geoprof_xyz_t_2007, cs_2b_geoprof_xyz_2007)' &
time iquery -p 5670 -naq 'redimension_store(trmm_1c21_xyz_t_2007, trmm_1c21_xyz_2007)' &

real    4m35.529s
real    2m35.947s

insert(filter(cs_2b_geoprof_xyz_2007, doy = 111), cs_2b_geoprof_xyz_2007_111);
insert(filter(trmm_1c21_xyz_2007, doy = 111), trmm_1c21_xyz_2007_111);

--Find intersections
time iquery -naq 'store(aggregate(apply(bestmatchNew(cs_2b_geoprof_xyz_2007, trmm_1c21_xyz_2007, 3, 3, 3, 1, 1, 9000), sq_distance, pow(x-match_x, 2) + pow(y-match_y, 2) + pow(z-match_z, 2), t_distance, abs(t-match_t)), min(sq_distance), year, doy, orbit, f), cs_trmm_intersect_2007)'


store(
	aggregate(
		redimension(
			apply(
				bestmatchNew(cs_2b_geoprof_xyz_2007_111, trmm_1c21_xyz_2007_111, 3, 3, 3, 1, 1, 9000), 
				sq_distance, pow(x-match_x, 2) + pow(y-match_y, 2) + pow(z-match_z, 2), 
				t_distance, abs(t-match_t)),
			cs_trmm_intersect_template), 
		min(sq_distance), 
		orbit, f), 
	cs_trmm_intersect_2007);

	
store(
	aggregate(
		redimension(
			apply(
				bestmatchNew(cs_2b_geoprof_xyz_2007, trmm_1c21_xyz_2007, 3, 3, 3, 9000), 
				sq_distance, pow(x-match_x, 2) + pow(y-match_y, 2) + pow(z-match_z, 2), 
				t_distance, abs(t-match_t)),
			cs_trmm_intersect_template), 
		min(sq_distance), 
		orbit, f), 
	cs_trmm_intersect_2007);	
	
	
	
hadoop fs -ls -get cloudsat_trmm/tmp/trmm2007_collapsed_scidb.gz/part-m-00000.gz
mv part-m-00000.gz trmm2007_collapsed_scidb.gz
gunzip trmm2007_collapsed_scidb.gz
time csv2scidb -s 0 -p NNNNNNNNNNNNNNNN < trmm2007_collapsed_scidb > trmm2007_collapsed_scidb.scidb
time iquery -p 5670 -naq "load(trmm_1c21_xyz_t_2007, '/att/nobackup/kdoan1/data/scidb/trmm2007_collapsed_scidb.scidb')"
time iquery -p 5670 -naq 'redimension_store(trmm_1c21_xyz_t_2007, trmm_1c21_xyz_2007)'